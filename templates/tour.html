<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=Edge"/>
	<title>Chess Board</title>
<!--Adobe Edge Runtime-->
    <!--script type="text/javascript" charset="utf-8" src="chess_board_edgePreload.js"></script>
   -->
    <script>
	var i = 0;
	//cells = ["1.1", "2.3", "1.5", "3.4", "5.5", "4.3", "5.1", "3.2", "4.4", "5.2", "3.1", "1.2", "2.4", "4.5", "5.3", "4.1", "2.2", "1.4", "3.5", "5.4", "4.2", "2.1", "1.3", "2.5", "3.3"];
	cells = "{{ cells }}".replace(/&#39;/g,"\"").substring(1,parseInt("{{ len_positions }}"))//.split(",")
        ty = typeof cells
        alert(ty)
        cells_array = JSON.parse("[" + cells + "]")
        var cells = [cells];
        ty2 = typeof cells
        alert(ty2)
        //alert(["example","array","format"])
        alert(cells)
        
	function setValues() {
	    setTimeout(function () {
		document.getElementById(cells_array[i]).innerHTML =  i;
		i++;
		if (i < cells_array.length) {
		    setValues();
		}
	    }, 300)
	}
	
	function tableCreate() {
        var numRows = parseInt("{{ rows }}"),
            numColumns = parseInt("{{ columns }}"),
            body = document.body,
            tbl = document.createElement('table'),
            tbdy = document.createElement('tbody');
    
        for(var i=1; i<=numRows; i++) {
            var tr = document.createElement('tr');
            for(var j=1; j<=numColumns; j++) {
                var td = document.createElement('td');
                td.id = i+"."+j;
                i % 2 == 0 ? 
                    j % 2 == 0 ? td.className = "EvenSquare" : td.className = "OddSquare" 
                : j % 2 == 0 ? td.className = "OddSquare" : td.className = "EvenSquare";
                
                tr.appendChild(td)
            }
            tbdy.appendChild(tr);
        }
        tbl.appendChild(tbdy);
        body.appendChild(tbl)
        setValues();
    }
    </script>
    <style>
    table {
    border-collapse: collapse;
    width: 505px;
    height: 505px;
    }
	td {
    width: 100px;
    height: 100px;
    padding: 0px;
    border: 1px solid black;
	}
	.EvenSquare, .OddSquare {
	font-size: 36px;
	text-align: center;
	}
	.EvenSquare {
	background: #59751D;
	color: #FFFFFF;
	}
	.OddSquare {
	background: #FAFAFA;
	color: #000000;
	}
    </style>
<!--Adobe Edge Runtime End-->
</head>
<body onload="tableCreate()">
</body>
</html>